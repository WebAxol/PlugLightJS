/*! For license information please see pluglight.min.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./lib/Collection/Manager.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar CollectionManager = /*#__PURE__*/function () {\n  function CollectionManager(world) {\n    _classCallCheck(this, CollectionManager);\n    this.world = world;\n    this.collections = {};\n    this.toBeRemoved = [];\n    this._objectPool = []; // Only for internal use\n  }\n  _createClass(CollectionManager, [{\n    key: "registerCollection",\n    value: function registerCollection(collectionName) {\n      // Defensive input check\n      if (typeof collectionName !== \'string\' || collectionName == \'\') {\n        console.error("Cannot register collection with a name defined as: ".concat(collectionName, "; the name must be a non-empty string"));\n        return false;\n      }\n      if (this.collections[collectionName]) {\n        console.error("Collection named \'".concat(collectionName, "\' already registered"));\n        return false;\n      }\n      this.collections[collectionName] = [];\n      return this;\n    }\n  }, {\n    key: "getCollection",\n    value: function getCollection(collectionName) {\n      if (this.collections[collectionName]) {\n        return this.collections[collectionName];\n      }\n      console.error("Cannot get unregistered collection \'".concat(collectionName, "\'"));\n      return false;\n    }\n  }, {\n    key: "addToCollection",\n    value: function addToCollection(collectionName, object) {\n      // Defensive input check \n      if (!this.collections[collectionName]) {\n        console.error("collection named \'".concat(collectionName, " is not registered\'"));\n        return false;\n      }\n      if (_typeof(object) != \'object\' || !object.isInCollection || !object.addCollection) {\n        console.error("The value passed as \'entity\' is not a valid Entity object ".concat(collectionName));\n        return false;\n      }\n      if (object.isInCollection && object.isInCollection(collectionName)) {\n        console.error("The entity is already registered to collection ".concat(collectionName));\n        return false;\n      }\n      //\n      this.collections[collectionName].push(object);\n      object.addCollection(collectionName);\n      return true;\n    }\n  }, {\n    key: "cacheToBeRemoved",\n    value: function cacheToBeRemoved(collectionName, entity) {\n      var data;\n      if (this._objectPool.length > 0) {\n        data = this._objectPool.pop();\n        data.collectionName = collectionName;\n        data.entity = entity;\n        this.toBeRemoved.push(data);\n      } else {\n        this.toBeRemoved.push({\n          collectionName: collectionName,\n          entity: entity\n        });\n      }\n    }\n  }, {\n    key: "removeFromCollection",\n    value: function removeFromCollection(collectionName, object) {\n      var index = this.collections[collectionName].indexOf(object);\n      this.collections[collectionName].splice(index, 1);\n      object.removeCollection(collectionName);\n    }\n  }, {\n    key: "removeAgentsFromCollections",\n    value: function removeAgentsFromCollections() {\n      while (this.toBeRemoved.length > 0) {\n        var item = this.toBeRemoved.pop();\n        this.removeFromCollection(item.collectionName, item.entity);\n        item.collectionName = undefined;\n        item.entity = undefined;\n        this._objectPool.push(item);\n      }\n    }\n  }]);\n  return CollectionManager;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CollectionManager);\n\n//# sourceURL=webpack://cases/./lib/Collection/Manager.js?')},"./lib/Entity/Entity.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar Entity = /*#__PURE__*/function () {\n  function Entity(typeName, prototype, ID) {\n    var _this = this;\n    _classCallCheck(this, Entity);\n    this._children = {};\n    this.collections = {};\n    this.type = typeName;\n    this.ID = ID;\n    if (!prototype[\'info\']) return;\n    Object.keys(prototype[\'info\']).forEach(function (field) {\n      var _field = prototype[\'info\'][field];\n      if (_typeof(_field) == \'object\') _this[field] = Object.assign({}, _field);else _this[field] = _field;\n    });\n  }\n  _createClass(Entity, [{\n    key: "getID",\n    value: function getID() {\n      return this.ID;\n    }\n  }, {\n    key: "getType",\n    value: function getType() {\n      return this.type;\n    }\n  }, {\n    key: "isInCollection",\n    value: function isInCollection(collectionName) {\n      return this.collections[collectionName];\n    }\n  }, {\n    key: "getCollections",\n    get: function get() {\n      return Object.keys(this.collections);\n    }\n  }, {\n    key: "addCollection",\n    value: function addCollection(collectionName) {\n      this.collections[collectionName] = true;\n    }\n  }, {\n    key: "removeCollection",\n    value: function removeCollection(collectionName) {\n      delete this.collections[collectionName];\n    }\n  }, {\n    key: "reset",\n    value: function reset(prototype, newID) {\n      var _this2 = this;\n      this.ID = newID;\n      Object.keys(prototype[\'info\']).forEach(function (field) {\n        var _field = prototype[\'info\'][field];\n        if (_typeof(_field) == \'object\') _this2[field] = Object.assign({}, _field);else _this2[field] = _field;\n      });\n    }\n  }]);\n  return Entity;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Entity);\n\n//# sourceURL=webpack://cases/./lib/Entity/Entity.js?')},"./lib/Entity/Manager.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Entity_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity.js */ "./lib/Entity/Entity.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\n\nvar EntityManager = /*#__PURE__*/function () {\n  function EntityManager(world) {\n    _classCallCheck(this, EntityManager);\n    this.world = world;\n    this.types = {}; // Type Object Pattern\n    this.pools = {}; // Object Pool Pattern\n    this.toBeRemoved = [];\n    this.nextID = 0;\n  }\n  _createClass(EntityManager, [{\n    key: "registerType",\n    value: function registerType(typeName, prototype) {\n      // Defensive input check\n      if (typeof typeName !== \'string\' || typeName == \'\') {\n        console.error("Cannot create agentType with a type name defined as: ".concat(typeName, "; the type must be a non-empty string"));\n        return false;\n      }\n      if (this.types[typeName] != undefined) {\n        console.error("The type named \'".concat(typeName, "\' has already been registered"));\n        return false;\n      }\n      if (prototype == undefined) {\n        console.error(\'Prototype cannot be undefined, it must be a JSON with the attributes of the entity\');\n        return false;\n      }\n      //\n      this.types[typeName] = prototype;\n      this.pools[typeName] = [];\n      return true;\n    }\n  }, {\n    key: "createEntity",\n    value: function createEntity(typeName) {\n      var details = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      // Defensive input check\n      if (typeof typeName !== \'string\' || typeName == \'\') {\n        console.error("Cannot create entity with a type defined as: ".concat(typeName, "; the type must be a non-empty string"));\n        return false;\n      }\n      if (!this.types[typeName]) {\n        console.error("Cannot create entity with a type defined as: ".concat(typeName, "; the type doesn\'t exist at AgentPool"));\n        return false;\n      }\n      if (details != undefined && _typeof(details) !== \'object\') {\n        console.error("\'details\' must be an object");\n        return false;\n      }\n      //\n      var world = this.world;\n      var entity;\n      if (this.pools[typeName].length > 0) {\n        entity = this.pools[typeName].pop();\n        this.resetAgent(entity);\n      } else {\n        entity = new _Entity_js__WEBPACK_IMPORTED_MODULE_0__["default"](typeName, this.types[typeName], this.nextID++);\n      }\n      if (!(details && details[\'info\'])) return entity;\n      Object.keys(details[\'info\']).forEach(function (detail) {\n        if (details[\'info\'][detail] != undefined) {\n          entity[detail] = details[\'info\'][detail];\n        }\n      });\n      // Defensive output type check\n      if (!(entity instanceof _Entity_js__WEBPACK_IMPORTED_MODULE_0__["default"])) {\n        console.error("Something went wrong when creating a new Entity of type ".concat(typeName));\n        return false;\n      }\n      return entity;\n    }\n  }, {\n    key: "getCollectionsOfType",\n    value: function getCollectionsOfType(typeName) {\n      if (!this.types[typeName]) {\n        console.warn("Cannot get collections from unexisting type \'".concat(typeName, "\'"));\n        return false;\n      }\n      var collections = this.types[typeName].collections || [];\n      return collections;\n    }\n  }, {\n    key: "storeToBeRemoved",\n    value: function storeToBeRemoved(entity) {\n      this.toBeRemoved.push(entity);\n    }\n  }, {\n    key: "removeEntity",\n    value: function removeEntity(entity) {\n      var _this = this;\n      try {\n        var agentType = entity.getType();\n        var agentCollections = entity.getCollections();\n        agentCollections.forEach(function (collectionName) {\n          _this.world.removeFromCollection(collectionName, entity);\n        });\n        var agentChildren = Object.keys(entity._children);\n        while (agentChildren.length) {\n          this.removeEntity(entity._children[agentChildren[0]]);\n          delete entity._children[agentChildren[0]];\n          agentChildren.shift();\n        }\n        this.pools[agentType].push(entity);\n      } catch (err) {\n        console.error("Error removing entity ".concat(entity));\n        return false;\n      }\n    }\n  }, {\n    key: "removeAgents",\n    value: function removeAgents() {\n      while (this.toBeRemoved.length) {\n        var entity = this.toBeRemoved.pop();\n        this.removeEntity(entity);\n      }\n    }\n  }, {\n    key: "resetAgent",\n    value: function resetAgent(entity) {\n      var prototype = this.types[entity.getType()];\n      entity.reset(prototype, this.nextID++);\n    }\n  }]);\n  return EntityManager;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EntityManager);\n\n//# sourceURL=webpack://cases/./lib/Entity/Manager.js?')},"./lib/Event/Manager.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar EventManager = /*#__PURE__*/function () {\n  function EventManager(world) {\n    _classCallCheck(this, EventManager);\n    this.world = world;\n    this.events = {};\n  }\n  _createClass(EventManager, [{\n    key: "registerEvent",\n    value: function registerEvent(eventName) {\n      if (this.events[eventName]) {\n        console.warn("Event named \'".concat(eventName, " has already been registered\'"));\n        return false;\n      }\n      this.events[eventName] = {};\n    }\n  }, {\n    key: "registerServiceToEvent",\n    value: function registerServiceToEvent(serviceName, eventName) {\n      if (!this.events[eventName]) {\n        console.warn("Cannot register service \'".concat(serviceName, "\' to unregistered event \'").concat(eventName, "\'"));\n        return false;\n      }\n      var service = this.world.getService(serviceName);\n      if (!service) {\n        console.warn("Cannot register service \'".concat(serviceName, "\' to event, because the service is not registered to the framework"));\n        return false;\n      }\n      if (typeof service["on".concat(eventName)] != \'function\') {\n        console.warn("Cannot register service \'".concat(serviceName, "\' to event, because the service does not have a method \'on").concat(eventName, "\'"));\n        return false;\n      }\n      this.events[eventName][serviceName] = service;\n    }\n  }, {\n    key: "notifyToServices",\n    value: function notifyToServices(eventName) {\n      var _this = this;\n      var details = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      if (!this.events[eventName]) {\n        console.warn("Cannot notify event \'".concat(eventName, "\' because it does not exist"));\n        return false;\n      }\n      var services = Object.keys(this.events[eventName]);\n      services.forEach(function (serviceName) {\n        _this.world.getService(serviceName)["on".concat(eventName)](details);\n      });\n    }\n  }]);\n  return EventManager;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EventManager);\n\n//# sourceURL=webpack://cases/./lib/Event/Manager.js?')},"./lib/Service/Manager.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar ServiceManager = /*#__PURE__*/function () {\n  function ServiceManager(world) {\n    _classCallCheck(this, ServiceManager);\n    this.world = world;\n    this.services = {};\n  }\n  _createClass(ServiceManager, [{\n    key: "registerService",\n    value: function registerService(name, service) {\n      // Defensive input check\n      if (typeof name !== \'string\' || name == \'\') {\n        throw Error("Cannot register service with a name defined as: ".concat(name, "; the name must be a non-empty string"));\n        return false;\n      }\n      if (this.services[name]) {\n        throw Error("Service named \'".concat(name, "\' already registered"));\n        return false;\n      }\n      if (!service || service == null) {\n        throw Error("Cannot register invalid or null service \'".concat(name, "\'"));\n        return false;\n      }\n      //\n      service.world = this.world;\n      this.services[name] = service;\n      this.services[name].init();\n      return true;\n    }\n  }, {\n    key: "getServices",\n    value: function getServices() {\n      return this.services;\n    }\n  }, {\n    key: "getService",\n    value: function getService(serviceName) {\n      if (!this.services[serviceName]) {\n        throw Error("Cannot get unregistered service \'".concat(serviceName, "\'"));\n        return false;\n      }\n      return this.services[serviceName];\n    }\n  }]);\n  return ServiceManager;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ServiceManager);\n\n//# sourceURL=webpack://cases/./lib/Service/Manager.js?')},"./lib/World.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Entity_Manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity/Manager.js */ "./lib/Entity/Manager.js");\n/* harmony import */ var _Collection_Manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collection/Manager.js */ "./lib/Collection/Manager.js");\n/* harmony import */ var _Event_Manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event/Manager.js */ "./lib/Event/Manager.js");\n/* harmony import */ var _Service_Manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Service/Manager.js */ "./lib/Service/Manager.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\n\n\n\n\nvar World = /*#__PURE__*/function () {\n  function World() {\n    _classCallCheck(this, World);\n    // subordinate modules\n    this.entityManager = new _Entity_Manager_js__WEBPACK_IMPORTED_MODULE_0__["default"](this);\n    this.collectionManager = new _Collection_Manager_js__WEBPACK_IMPORTED_MODULE_1__["default"](this);\n    this.eventManager = new _Event_Manager_js__WEBPACK_IMPORTED_MODULE_2__["default"](this);\n    this.serviceManager = new _Service_Manager_js__WEBPACK_IMPORTED_MODULE_3__["default"](this);\n    //Iteration\n    this.frame = 0;\n    this.routine = function () {};\n    this.pause = false;\n  }\n  _createClass(World, [{\n    key: "registerService",\n    value: function registerService(name, service) {\n      return this.serviceManager.registerService(name, service);\n    }\n  }, {\n    key: "getServices",\n    value: function getServices() {\n      return this.serviceManager.getServices();\n    }\n  }, {\n    key: "getService",\n    value: function getService(serviceName) {\n      return this.serviceManager.getService(serviceName);\n    }\n  }, {\n    key: "registerCollection",\n    value: function registerCollection(name) {\n      return this.collectionManager.registerCollection(name);\n    }\n  }, {\n    key: "getCollection",\n    value: function getCollection(collectionName) {\n      return this.collectionManager.getCollection(collectionName);\n    }\n  }, {\n    key: "addToCollection",\n    value: function addToCollection(collectionName, object) {\n      return this.collectionManager.addToCollection(collectionName, object);\n    }\n  }, {\n    key: "removeFromCollection",\n    value: function removeFromCollection(collectionName, object) {\n      return this.collectionManager.cacheToBeRemoved(collectionName, object);\n    }\n  }, {\n    key: "registerAgentType",\n    value: function registerAgentType(typeName, prototype) {\n      return this.entityManager.registerType(typeName, prototype);\n    }\n  }, {\n    key: "createAgent",\n    value: function createAgent(typeName) {\n      var details = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var entity = this.entityManager.createEntity(typeName, details);\n      /*\n       let collections = AgentPool.getCollectionsOfType(typeName);\n       collections.forEach((collection) => {\n          this.addToCollection(collection, entity);\n      });\n       */\n      return entity;\n    }\n  }, {\n    key: "removeAgent",\n    value: function removeAgent(entity) {\n      this.entityManager.storeToBeRemoved(entity);\n    }\n  }, {\n    key: "registerEvent",\n    value: function registerEvent(eventName) {\n      this.eventManager.registerEvent(eventName);\n    }\n  }, {\n    key: "registerServiceToEvent",\n    value: function registerServiceToEvent(serviceName, eventName) {\n      this.eventManager.registerServiceToEvent(serviceName, eventName);\n    }\n  }, {\n    key: "notifyEvent",\n    value: function notifyEvent(eventName, details) {\n      this.eventManager.notifyToServices(eventName, details);\n    }\n  }, {\n    key: "execute",\n    value: function execute() {\n      var _this = this;\n      if (this.pause) {\n        return;\n      }\n      requestAnimationFrame(function () {\n        _this.execute();\n      });\n      this.entityManager.removeAgents();\n      this.collectionManager.removeAgentsFromCollections();\n      var services = this.getServices();\n      Object.keys(services).forEach(function (service) {\n        services[service].execute();\n      });\n      if (!this.pause) {\n        this.frame++;\n        this.routine(this);\n      }\n    }\n  }, {\n    key: "pauseExecution",\n    value: function pauseExecution() {\n      this.pause = true;\n    }\n  }]);\n  return World;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (World);\n\n//# sourceURL=webpack://cases/./lib/World.js?')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./lib/World.js")})();